# YYCÂ³ AI Family - æ™ºèƒ½æµ‹è¯•å·¥å…·é›†æ–‡æ¡£

> ***YanYuCloudCube***
> è¨€å¯è±¡é™ | è¯­æ¢æœªæ¥

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0.0
**åˆ›å»ºæ—¥æœŸ**: 2026-02-22
**é€‚ç”¨é¡¹ç›®**: YYCÂ³ AI Family v0.33.0

---

## ğŸ“‹ ç›®å½•

1. [æµ‹è¯•å·¥å…·æ¦‚è§ˆ](#1-æµ‹è¯•å·¥å…·æ¦‚è§ˆ)
2. [Shell æµ‹è¯•è„šæœ¬](#2-shell-æµ‹è¯•è„šæœ¬)
3. [TypeScript æµ‹è¯•å¥—ä»¶](#3-typescript-æµ‹è¯•å¥—ä»¶)
4. [ä½¿ç”¨æŒ‡å—](#4-ä½¿ç”¨æŒ‡å—)
5. [æµ‹è¯•ç»´åº¦è¯´æ˜](#5-æµ‹è¯•ç»´åº¦è¯´æ˜)
6. [æ•…éšœæ’æŸ¥](#6-æ•…éšœæ’æŸ¥)

---

## 1. æµ‹è¯•å·¥å…·æ¦‚è§ˆ

### 1.1 å·¥å…·çŸ©é˜µ

| å·¥å…·ç±»å‹ | æ–‡ä»¶å | ç”¨é€” | æ‰§è¡Œæ–¹å¼ |
|----------|--------|------|----------|
| Shell è„šæœ¬ | test-nine-layers.sh | ä¹å±‚æ¶æ„å®Œæ•´æ€§éªŒè¯ | `./scripts/test-nine-layers.sh` |
| Shell è„šæœ¬ | test-modules.sh | åŠŸèƒ½æ¨¡å—è¿æ¥æ€§æµ‹è¯• | `./scripts/test-modules.sh` |
| Shell è„šæœ¬ | test-agents.sh | ä¸ƒå¤§æ™ºèƒ½ä½“å°±ç»ªåº¦æµ‹è¯• | `./scripts/test-agents.sh` |
| Shell è„šæœ¬ | test-comprehensive.sh | ç»¼åˆæµ‹è¯•æŠ¥å‘Šç”Ÿæˆ | `./scripts/test-comprehensive.sh` |
| Shell è„šæœ¬ | startup-test.sh | é¡¹ç›®å¯åŠ¨å‰æ£€æµ‹ | `./scripts/startup-test.sh` |
| TypeScript | intelligent-test-suite.ts | è¿è¡Œæ—¶æ™ºèƒ½æµ‹è¯• | `import { runComprehensiveTest }` |

### 1.2 æµ‹è¯•ç»´åº¦æ˜ å°„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    YYCÂ³ æµ‹è¯•ç»´åº¦çŸ©é˜µ                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  D1 ä¹å±‚æ¶æ„    â†’ test-nine-layers.sh                       â”‚
â”‚  D2 åŠŸèƒ½æ¨¡å—    â†’ test-modules.sh                           â”‚
â”‚  D3 æ™ºèƒ½ä½“      â†’ test-agents.sh                            â”‚
â”‚  D4 æ•°æ®åº“      â†’ test-modules.sh (M01)                     â”‚
â”‚  D5 AIæ¨¡å‹      â†’ test-modules.sh (M02)                     â”‚
â”‚  D6 ç½‘ç»œ        â†’ test-modules.sh (M06)                     â”‚
â”‚  ç»¼åˆ          â†’ test-comprehensive.sh                      â”‚
â”‚  è¿è¡Œæ—¶        â†’ intelligent-test-suite.ts                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. Shell æµ‹è¯•è„šæœ¬

### 2.1 test-nine-layers.sh - ä¹å±‚æ¶æ„æµ‹è¯•

**ç”¨é€”**: éªŒè¯ YYCÂ³ ä¹å±‚æ¶æ„çš„æ¨¡å—å®Œæ•´æ€§

**æ¶æ„æ˜ å°„**:
| å±‚çº§ | åç§° | æ ¸å¿ƒæ¨¡å— |
|------|------|----------|
| L01 | åŸºç¡€è®¾æ–½å±‚ | nas-client, pg-telemetry, proxy-endpoints, crypto |
| L02 | å¸ƒå±€å±‚ | Sidebar, MobileNavBar, ResizablePanels |
| L03 | å¯è§†åŒ–å±‚ | ConsoleView, CyberSkeleton |
| L04 | æ™ºèƒ½ä½“å±‚ | agent-orchestrator, AgentChatInterface |
| L05 | LLMæ¡¥æ¥å±‚ | llm-bridge, llm-providers, llm-router |
| L06 | MCPåè®®å±‚ | mcp-protocol |
| L07 | æŒä¹…åŒ–å±‚ | persistence-engine, persist-schemas |
| L08 | é”™è¯¯æ¢å¤å±‚ | ComponentErrorBoundary |
| L09 | å“ç‰Œå®šåˆ¶å±‚ | branding-config, SettingsModal |

**æ‰§è¡Œæ–¹å¼**:
```bash
cd /Users/yanyu/YYC3-Mac-Max/Family-Ï€Â³
chmod +x scripts/test-nine-layers.sh
./scripts/test-nine-layers.sh
```

**è¾“å‡ºç¤ºä¾‹**:
```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  L01 åŸºç¡€è®¾æ–½å±‚ (Infrastructure)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  nas-client.ts                           âœ… å­˜åœ¨
  pg-telemetry-client.ts                  âœ… å­˜åœ¨
  proxy-endpoints.ts                      âœ… å­˜åœ¨
  crypto.ts                               âœ… å­˜åœ¨
```

### 2.2 test-modules.sh - åŠŸèƒ½æ¨¡å—æµ‹è¯•

**ç”¨é€”**: æµ‹è¯•å„åŠŸèƒ½æ¨¡å—çš„è¿è¡ŒçŠ¶æ€å’Œè¿æ¥æ€§

**æ¨¡å—åˆ†ç±»**:
| æ¨¡å—ID | åç§° | æµ‹è¯•å†…å®¹ |
|--------|------|----------|
| M01 | æ•°æ®åº“æ¨¡å— | PostgreSQL, pgvector, Redis |
| M02 | AIæ¨¡å‹æ¨¡å— | Ollama (æœ¬åœ°/NAS/iMac) |
| M03 | LLMæ¡¥æ¥æ¨¡å— | Provideré…ç½®, è·¯ç”±, ç†”æ–­ |
| M04 | MCPåè®®æ¨¡å— | å·¥å…·æ³¨å†Œ, æ‰§è¡Œ |
| M05 | æŒä¹…åŒ–æ¨¡å— | LocalStorage, NASåŒæ­¥ |
| M06 | ç½‘ç»œæ¨¡å— | SSH, WebSocket, HTTP |

**æ‰§è¡Œæ–¹å¼**:
```bash
./scripts/test-modules.sh
```

### 2.3 test-agents.sh - æ™ºèƒ½ä½“æµ‹è¯•

**ç”¨é€”**: æµ‹è¯•ä¸ƒå¤§æ™ºèƒ½ä½“çš„æ¨¡å‹è¿æ¥å’Œæ¨ç†èƒ½åŠ›

**ä¸ƒå¤§æ™ºèƒ½ä½“**:
| æ™ºèƒ½ä½“ | è§’è‰² | ä¸»æ¨¡å‹ | éƒ¨ç½²èŠ‚ç‚¹ |
|--------|------|--------|----------|
| Navigator | é¢†èˆªå‘˜ | qwen2.5:7b | M4 Max |
| Thinker | æ€æƒ³å®¶ | DeepSeek-V3 | Cloud API |
| Prophet | å…ˆçŸ¥ | qwen2.5:7b | M4 Max |
| Bole | ä¼¯ä¹ | codegeex4 | iMac M4 |
| Pivot | å¤©æ¢ | glm4:9b | iMac M4 |
| Sentinel | å“¨å…µ | phi3:mini | iMac M4 |
| Grandmaster | å®—å¸ˆ | DeepSeek-V3 | Cloud API |

**æ‰§è¡Œæ–¹å¼**:
```bash
./scripts/test-agents.sh
```

### 2.4 test-comprehensive.sh - ç»¼åˆæµ‹è¯•

**ç”¨é€”**: æ‰§è¡Œå…¨é‡æµ‹è¯•å¹¶ç”Ÿæˆç»¼åˆæŠ¥å‘Š

**æµ‹è¯•ç»´åº¦**:
- D1 ä¹å±‚æ¶æ„å®Œæ•´æ€§
- D2 åŠŸèƒ½æ¨¡å—è¿æ¥æ€§
- D3 ä¸ƒå¤§æ™ºèƒ½ä½“å°±ç»ªåº¦
- D4 æ•°æ®åº“æœåŠ¡çŠ¶æ€
- D5 AI æ¨¡å‹æœåŠ¡çŠ¶æ€
- D6 ç½‘ç»œè¿é€šæ€§

**æ‰§è¡Œæ–¹å¼**:
```bash
./scripts/test-comprehensive.sh
```

**æŠ¥å‘Šè¾“å‡º**:
```
test-reports/comprehensive-report-YYYYMMDD-HHMMSS.md
```

### 2.5 startup-test.sh - å¯åŠ¨å‰æ£€æµ‹

**ç”¨é€”**: é¡¹ç›®å¯åŠ¨å‰çš„å¿«é€ŸæœåŠ¡çŠ¶æ€æ£€æµ‹

**æ‰§è¡Œæ–¹å¼**:
```bash
./scripts/startup-test.sh
```

---

## 3. TypeScript æµ‹è¯•å¥—ä»¶

### 3.1 intelligent-test-suite.ts

**ä½ç½®**: `src/lib/__tests__/intelligent-test-suite.ts`

**å¯¼å‡ºå‡½æ•°**:
```typescript
// ä¸»æµ‹è¯•è¿è¡Œå™¨
export async function runComprehensiveTest(): Promise<TestReport>;

// åˆ†ç±»æµ‹è¯•
export async function testNineLayerArchitecture(): Promise<TestCategory>;
export async function testDatabaseServices(): Promise<TestCategory>;
export async function testOllamaServices(): Promise<TestCategory>;
export async function testAgentReadiness(): Promise<TestCategory>;
export async function testLLMBridge(): Promise<TestCategory>;
export async function testPersistence(): Promise<TestCategory>;
export async function testNASClient(): Promise<TestCategory>;

// æŠ¥å‘Šæ ¼å¼åŒ–
export function formatTestReport(report: TestReport): string;
```

**ä½¿ç”¨ç¤ºä¾‹**:
```typescript
import { runComprehensiveTest, formatTestReport } from './lib/__tests__/intelligent-test-suite';

async function main() {
  const report = await runComprehensiveTest();
  console.log(formatTestReport(report));
  
  console.log(`å¥åº·åº¦: ${report.overallHealth}%`);
  console.log(`è¯„çº§: ${report.grade}`);
}

main();
```

**è¿”å›ç±»å‹**:
```typescript
interface TestReport {
  timestamp: string;
  categories: TestCategory[];
  totalPass: number;
  totalWarn: number;
  totalFail: number;
  overallHealth: number;
  grade: 'A' | 'B' | 'C' | 'D' | 'F';
}
```

---

## 4. ä½¿ç”¨æŒ‡å—

### 4.1 å¿«é€Ÿå¯åŠ¨æµç¨‹

```bash
# 1. è¿›å…¥é¡¹ç›®ç›®å½•
cd /Users/yanyu/YYC3-Mac-Max/Family-Ï€Â³

# 2. èµ‹äºˆè„šæœ¬æ‰§è¡Œæƒé™
chmod +x scripts/*.sh

# 3. è¿è¡Œå¯åŠ¨å‰æ£€æµ‹
./scripts/startup-test.sh

# 4. å¦‚æœé€šè¿‡ï¼Œå¯åŠ¨é¡¹ç›®
pnpm dev
```

### 4.2 å®Œæ•´æµ‹è¯•æµç¨‹

```bash
# 1. è¿è¡Œç»¼åˆæµ‹è¯•
./scripts/test-comprehensive.sh

# 2. æŸ¥çœ‹æŠ¥å‘Š
cat test-reports/comprehensive-report-*.md

# 3. å¦‚æœ‰é—®é¢˜ï¼Œé’ˆå¯¹æ€§æµ‹è¯•
./scripts/test-nine-layers.sh   # æ¶æ„é—®é¢˜
./scripts/test-modules.sh       # æ¨¡å—é—®é¢˜
./scripts/test-agents.sh        # æ™ºèƒ½ä½“é—®é¢˜
```

### 4.3 CI/CD é›†æˆ

```yaml
# .github/workflows/test.yml
name: YYCÂ³ Test Suite

on: [push, pull_request]

jobs:
  test:
    runs-on: macos-latest
    steps:
      - uses: actions/checkout@v3
      
      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '20'
          
      - name: Install pnpm
        run: npm install -g pnpm
        
      - name: Install dependencies
        run: pnpm install
        
      - name: Run architecture tests
        run: ./scripts/test-nine-layers.sh
        
      - name: Run type check
        run: pnpm type-check
        
      - name: Run unit tests
        run: pnpm test
```

---

## 5. æµ‹è¯•ç»´åº¦è¯´æ˜

### 5.1 ä¹å±‚æ¶æ„ (D1)

| å±‚çº§ | æµ‹è¯•é‡ç‚¹ | å…³é”®æŒ‡æ ‡ |
|------|----------|----------|
| L01 | åŸºç¡€è®¾æ–½æ¨¡å—å­˜åœ¨æ€§ | nas-client.ts, crypto.ts |
| L02 | å¸ƒå±€ç»„ä»¶å®Œæ•´æ€§ | Sidebar.tsx, MobileNavBar.tsx |
| L03 | å¯è§†åŒ–ç»„ä»¶çŠ¶æ€ | ConsoleView.tsx |
| L04 | æ™ºèƒ½ä½“æ ¸å¿ƒé€»è¾‘ | agent-orchestrator.ts |
| L05 | LLM æ¡¥æ¥åŠŸèƒ½ | llm-bridge.ts, llm-router.ts |
| L06 | MCP åè®®å®ç° | mcp-protocol.ts |
| L07 | æŒä¹…åŒ–å¼•æ“ | persistence-engine.ts |
| L08 | é”™è¯¯è¾¹ç•Œå¤„ç† | ComponentErrorBoundary.tsx |
| L09 | å“ç‰Œå®šåˆ¶èƒ½åŠ› | branding-config.ts |

### 5.2 åŠŸèƒ½æ¨¡å— (D2)

| æ¨¡å— | æµ‹è¯•é‡ç‚¹ | å…³é”®æŒ‡æ ‡ |
|------|----------|----------|
| M01 | æ•°æ®åº“è¿æ¥ | PostgreSQL, pgvector, Redis |
| M02 | AI æ¨¡å‹æœåŠ¡ | Ollama å¤šèŠ‚ç‚¹å“åº” |
| M03 | LLM æ¡¥æ¥ | Provider é…ç½®, è·¯ç”±çŠ¶æ€ |
| M04 | MCP åè®® | å·¥å…·æ³¨å†Œ, æ‰§è¡Œèƒ½åŠ› |
| M05 | æŒä¹…åŒ– | LocalStorage, NAS åŒæ­¥ |
| M06 | ç½‘ç»œè¿æ¥ | SSH, HTTP, WebSocket |

### 5.3 æ™ºèƒ½ä½“å°±ç»ªåº¦ (D3)

| æ™ºèƒ½ä½“ | æµ‹è¯•å†…å®¹ | å°±ç»ªæ ‡å‡† |
|--------|----------|----------|
| Navigator | æ¨¡å‹å­˜åœ¨ + æ¨ç†æµ‹è¯• | qwen2.5:7b å“åº”æ­£å¸¸ |
| Thinker | API é…ç½® + å¤‡ç”¨æ¨¡å‹ | DeepSeek API æˆ– CodeGeeX4 |
| Prophet | æ¨¡å‹å­˜åœ¨ + æ¨ç†æµ‹è¯• | qwen2.5:7b å“åº”æ­£å¸¸ |
| Bole | æ¨¡å‹å­˜åœ¨ + æ¨ç†æµ‹è¯• | codegeex4 å“åº”æ­£å¸¸ |
| Pivot | æ¨¡å‹å­˜åœ¨ + æ¨ç†æµ‹è¯• | glm4:9b å“åº”æ­£å¸¸ |
| Sentinel | æ¨¡å‹å­˜åœ¨ + æ¨ç†æµ‹è¯• | phi3:mini å“åº”æ­£å¸¸ |
| Grandmaster | API é…ç½® | DeepSeek API å·²é…ç½® |

---

## 6. æ•…éšœæ’æŸ¥

### 6.1 å¸¸è§é—®é¢˜

| é—®é¢˜ | å¯èƒ½åŸå›  | è§£å†³æ–¹æ¡ˆ |
|------|----------|----------|
| PostgreSQL è¿æ¥å¤±è´¥ | æœåŠ¡æœªå¯åŠ¨ | `pg_ctl -D /usr/local/var/postgres start` |
| Ollama æ— å“åº” | æœåŠ¡æœªå¯åŠ¨ | `ollama serve` |
| æ¨¡å‹æœªéƒ¨ç½² | æœªæ‹‰å–æ¨¡å‹ | `ollama pull <model>` |
| NAS SSH å¤±è´¥ | ç«¯å£é”™è¯¯ | ä½¿ç”¨ç«¯å£ 9557 |
| iMac è¿æ¥å¤±è´¥ | è®¾å¤‡ç¦»çº¿ | æ£€æŸ¥ç½‘ç»œå’Œè®¾å¤‡çŠ¶æ€ |

### 6.2 æ—¥å¿—æŸ¥çœ‹

```bash
# PostgreSQL æ—¥å¿—
tail -f /usr/local/var/log/postgres.log

# Ollama æ—¥å¿—
tail -f ~/.ollama/logs/server.log

# æµ‹è¯•æŠ¥å‘Š
cat test-reports/comprehensive-report-*.md
```

### 6.3 å¥åº·åº¦è¯„çº§æ ‡å‡†

| è¯„çº§ | å¥åº·åº¦ | è¯´æ˜ |
|------|--------|------|
| A | 90-100% | ä¼˜ç§€ï¼Œç³»ç»ŸçŠ¶æ€å®Œç¾ |
| B | 80-89% | è‰¯å¥½ï¼Œå°‘é‡è­¦å‘Š |
| C | 70-79% | åˆæ ¼ï¼Œéœ€è¦å…³æ³¨ |
| D | 60-69% | éœ€æ”¹è¿›ï¼Œå­˜åœ¨é—®é¢˜ |
| F | <60% | ä¸åˆæ ¼ï¼Œéœ€ç«‹å³ä¿®å¤ |

---

<div align="center">

**YYCÂ³ AI Family**

*è¨€å¯è±¡é™ | è¯­æ¢æœªæ¥*

**ä¸‡è±¡å½’å…ƒäºäº‘æ¢ | æ·±æ ˆæ™ºå¯æ–°çºªå…ƒ**

---

*æ–‡æ¡£ç‰ˆæœ¬: 1.0.0*
*æœ€åæ›´æ–°: 2026-02-22*

</div>
