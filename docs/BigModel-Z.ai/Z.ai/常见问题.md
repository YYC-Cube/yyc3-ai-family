# 常见问题

> GLM Coding Plan 使用过程中常见问题解答。

## 目录

- [订阅相关](#订阅相关)
- [API Key 相关](#api-key-相关)
- [工具配置相关](#工具配置相关)
- [MCP 相关](#mcp-相关)
- [额度与计费](#额度与计费)
- [性能与限制](#性能与限制)
- [错误排查](#错误排查)

---

## 订阅相关

### Q: 如何订阅 GLM Coding Plan？

A: 访问订阅页面：https://zhipuaishengchan.datasink.sensorsdata.cn/t/Nd，选择适合的套餐（Lite/Pro/Max），完成支付即可。

### Q: 套餐支持哪些模型？

A:
- **Lite 套餐**：GLM-4.7、GLM-4.5-Air（后续将支持 GLM-5）
- **Pro/Max 套餐**：GLM-5、GLM-4.7、GLM-4.5-Air

### Q: 套餐是否支持退款？

A: 订阅服务一经购买即视为确认，不支持退款。即使您未使用完套餐，费用也无法退回。我们建议您根据使用需求选择合适的订阅套餐和周期。

### Q: 如何升级套餐？

A: 登录 [Bigmodel 控制台](https://bigmodel.cn/console/overview) -> 财务 -> 订阅管理，选择升级套餐。

### Q: 续订价格会变吗？

A: 2 月 12 日之前开启续订的用户，续费价格及套餐的用量额度都不变，仍按您订阅时页面显示执行。

### Q: 如何取消订阅？

A: 登录 [Bigmodel 控制台](https://bigmodel.cn/console/overview) -> 财务 -> 订阅管理，选择取消自动续订。

---

## API Key 相关

### Q: 如何获取 API Key？

A:
1. 登录 [智谱开放平台](https://open.bigmodel.cn)
2. 进入 [API Keys 页面](https://bigmodel.cn/usercenter/proj-mgmt/apikeys)
3. 创建新的 API Key

### Q: Coding Plan Key 和普通 API Key 有什么区别？

A: 实际上是同一个 API Key，只是使用场景和端点不同：
- **普通 API**：`https://open.bigmodel.cn/api/paas/v4`（单独计费）
- **Coding API**：`https://open.bigmodel.cn/api/coding/paas/v4`（Coding Plan 套餐计费）

### Q: API Key 泄露了怎么办？

A: 立即登录 [API Keys 页面](https://bigmodel.cn/usercenter/proj-mgmt/apikeys)，删除泄露的 Key 并创建新的。

### Q: 可以共享 API Key 吗？

A: 不可以。GLM Coding Plan 套餐为订阅人专享使用。若因账号共享导致出现多人共用同一套餐的情况，我们可能会视为不当使用，并在必要时对订阅权益做出相应限制。

---

## 工具配置相关

### Q: Claude Code 配置后无法连接？

A: 请按以下步骤排查：
1. 检查环境变量是否正确设置：
   ```bash
   echo $ANTHROPIC_AUTH_TOKEN
   echo $ANTHROPIC_BASE_URL
   ```
2. 确认 API Key 正确
3. 验证端点地址：`https://open.bigmodel.cn/api/anthropic`
4. 尝试重启 Claude Code

### Q: Cline 配置后模型不显示？

A: 请检查：
1. VS Code settings.json 配置格式是否正确
2. API Key 是否正确
3. 重启 VS Code
4. 检查 Cline 是否已安装

### Q: Cursor 如何配置使用 GLM 模型？

A:
1. 打开 Cursor
2. 进入 Models -> Add Custom Model
3. 配置：
   - Protocol: OpenAI
   - API Key: your_api_key
   - Override OpenAI Base URL: `https://open.bigmodel.cn/api/coding/paas/v4`
   - Model Name: GLM-5 / GLM-4.7

### Q: 工具中显示 "401 Unauthorized" 错误？

A: 请检查：
1. API Key 是否正确复制（注意不要有多余空格）
2. API Key 是否来自正确的地址
3. 订阅状态是否正常
4. 是否使用了正确的端点

### Q: 如何在工具中切换 GLM-4.7 和 GLM-5？

A: 在工具配置中修改模型参数：
- **Claude Code**: 修改 `~/.claude/settings.json` 中的 `ANTHROPIC_DEFAULT_OPUS_MODEL`
- **Cline**: 修改 `settings.json` 中的 `model` 参数
- **Cursor**: 在 Custom Model 中选择不同的模型

---

## MCP 相关

### Q: 什么是 MCP？

A: MCP (Model Context Protocol) 是一种标准协议，允许 AI 工具访问外部能力和数据源。GLM Coding Plan 提供四大 MCP 服务器：视觉理解、联网搜索、网页读取、开源仓库。

### Q: 如何配置 MCP？

A: 在工具配置文件中添加 MCP 服务器配置，以 Claude Code 为例：

```json
{
  "mcpServers": {
    "zai-vision-mcp": {
      "type": "remote",
      "url": "https://open.bigmodel.cn/api/mcp/vision_mcp_server/mcp",
      "headers": {
        "Authorization": "Bearer your_api_key"
      }
    }
  }
}
```

### Q: 哪些工具支持 MCP？

A: Claude Code、Cline、OpenCode、OpenClaw、TRAE 等工具支持 MCP。

### Q: MCP 连接失败怎么办？

A: 请检查：
1. API Key 是否正确
2. MCP URL 是否正确
3. 网络连接是否正常
4. 工具是否支持 MCP
5. 查看工具日志获取详细错误

### Q: 可以只启用部分 MCP 服务器吗？

A: 可以。在配置文件中只添加需要的 MCP 服务器即可。

---

## 额度与计费

### Q: 套餐额度如何计算？

A: 套餐有两个额度限制：
- **每 5 小时限额**：动态刷新，额度在请求消耗 5 小时后刷新重置
- **每周限额**：自下单时开启，以 7 天为一个周期额度刷新重置

### Q: 如何查看额度使用情况？

A: 访问 [用量统计](https://www.bigmodel.cn/usercenter/glm-coding/usage) 查看您的额度消耗进展。

### Q: 各套餐的额度是多少？

A:

| 套餐类型 | 每 5 小时限额 | 每周限额 |
|---------|--------------|----------|
| Lite 套餐 | 约 80 次 prompts | 约 400 次 prompts |
| Pro 套餐 | 约 400 次 prompts | 约 2000 次 prompts |
| Max 套餐 | 约 1600 次 prompts | 约 8000 次 prompts |

### Q: GLM-5 的用量如何计算？

A: GLM-5 参数量更大，调用 GLM-5 时用量将按照：
- **高峰期（14:00-18:00 UTC+8）**：按 3 倍计算抵扣
- **非高峰期**：按 2 倍计算抵扣

### Q: 套餐额度用完后怎么办？

A: 套餐额度用完后需要等待下一个 5 小时周期恢复额度，系统不会继续消耗您的其他资源包/账户余额。

### Q: 可以同时使用 Coding Plan 和普通 API 吗？

A: 购买了 Coding 套餐的用户，在已支持的 Coding 工具中仅能通过套餐的额度进行调用，不能再单独以 API 形式调用。单独调用 API 是独立计费的。

---

## 性能与限制

### Q: 套餐有并发限制吗？

A: 是的，套餐使用受到并发数（在途请求任务数量）的限制。并发数 Max > Pro > Lite。

### Q: Coding Plan 仅能在编程工具中使用吗？

A: 是的，套餐仅可在特定编程工具中使用，包括 Claude Code、Roo Code、Kilo Code、Cline、OpenCode 等 10+ 主流编程工具。

### Q: GLM 模型的生成速度是多少？

A: 55+ Tokens/秒生成速度，真正实时交互。

### Q: GLM-5 和 GLM-4.7 的性能差异？

A: GLM-5 参数量更大，对标 Claude Opus 模型，适合复杂任务；GLM-4.7 平衡性能与成本，适合通用编码任务。

---

## 错误排查

### Q: 常见错误码有哪些？

| 错误码 | 含义 | 解决方案 |
|-------|------|---------|
| 401 | 认证失败 | 检查 API Key |
| 403 | 权限不足 | 检查订阅状态 |
| 429 | 速率限制 | 降低请求频率 |
| 500 | 服务器错误 | 稍后重试 |

### Q: 遇到 "rate limit exceeded" 错误？

A: 这表示您的请求频率超过了限制，请：
1. 降低请求频率
2. 检查是否在高峰期（14:00-18:00）
3. 考虑升级到更高套餐

### Q: 遇到 "quota exceeded" 错误？

A: 这表示您的套餐额度已用完，请：
1. 等待下一个 5 小时周期
2. 查看额度使用情况
3. 考虑升级套餐

### Q: 响应速度慢怎么办？

A: 请检查：
1. 网络连接是否正常
2. 是否在高峰期（14:00-18:00）
3. 任务复杂度是否过高
4. 是否可以使用 GLM-4.7 代替 GLM-5

### Q: 工具卡死或无响应？

A: 请尝试：
1. 重启工具
2. 检查网络连接
3. 清除工具缓存
4. 查看工具日志

---

## 其他问题

### Q: Coding Plan 有哪些专属权益？

A:
- 高额用量，普惠价格
- 专属 MCP 服务器（视觉理解、联网搜索、网页读取、开源仓库）
- 限时赠送「智谱 AI 输入法」权益
- 更快的响应速度，更稳定的服务

### Q: 如何反馈问题？

A: 可以通过以下方式反馈：
- [问题反馈插件](../BigModel/编码套餐/扩展工具箱/问题反馈插件.md)
- 联系客服
- 提交 Issue

### Q: 有使用规范吗？

A: 是的，请注意：
1. 套餐仅可在编程工具中使用
2. 不得将 API Key 共享给他人
3. 不得用于非编程场景
4. 遵守相关法律法规

### Q: 如何获取技术支持？

A:
1. 查看 [BigModel 文档](../BigModel/)
2. 参考 [最佳实践](./最佳实践.md)
3. 查看 [常见问题](./常见问题.md)
4. 联系客服

---

## 相关链接

- [BigModel 文档](../BigModel/) - 完整 API 文档
- [Coding Plan 概览](../BigModel/编码套餐/GLM-Coding-Plan/套餐概览.md) - 套餐详情
- [快速开始](./快速开始.md) - 快速上手指南
- [开发工具配置](./开发工具配置.md) - 工具配置指南
- [MCP 服务器配置](./MCP服务器配置.md) - MCP 配置指南
- [最佳实践](./最佳实践.md) - 使用技巧

---

## 仍未解决问题？

如果以上解答未能解决您的问题，请：

1. 提供详细的错误信息或截图
2. 说明您使用的工具和配置
3. 描述操作步骤和预期结果

我们将为您提供进一步的帮助。
